/* Msg v14.2.2 https://github.com/Merkoba/Msg */
const Msg={num_created:0,el:(o,t=document)=>t.querySelector(o),els:(o,t=document)=>Array.from(t.querySelectorAll(o)),ev:(o,t,e,s)=>{o.addEventListener(t,e,s)},insert:(o,t,e="beforeend")=>{o.insertAdjacentHTML(e,t)},factory:(o={})=>{const t={stack_pos_top:void 0,stack_pos_bottom:void 0,stack_pos_left:void 0,stack_pos_right:void 0,stack_width:void 0,stack_height:void 0};if(t.options=o,t.check_options=()=>{void 0!==t.options.preset&&("popup"===t.options.preset?(void 0===t.options.class&&(t.options.class="green"),void 0===t.options.enable_overlay&&(t.options.enable_overlay=!1),void 0===t.options.position&&(t.options.position="bottomright"),void 0===t.options.remove_after_close&&(t.options.remove_after_close=!0),void 0===t.options.zStack_level&&(t.options.zStack_level=1),void 0===t.options.window_width&&(t.options.window_width="460px"),void 0===t.options.lock&&(t.options.lock=!1)):"popup_autoclose"===t.options.preset?(void 0===t.options.class&&(t.options.class="green"),void 0===t.options.enable_overlay&&(t.options.enable_overlay=!1),void 0===t.options.position&&(t.options.position="bottomright"),void 0===t.options.autoclose&&(t.options.autoclose=!0),void 0===t.options.enable_progressbar&&(t.options.enable_progressbar=!0),void 0===t.options.remove_after_close&&(t.options.remove_after_close=!0),void 0===t.options.zStack_level&&(t.options.zStack_level=1),void 0===t.options.window_width&&(t.options.window_width="460px"),void 0===t.options.lock&&(t.options.lock=!1)):"window"===t.options.preset&&(void 0===t.options.window_height&&(t.options.window_height="100vh"),void 0===t.options.window_min_height&&(t.options.window_min_height="100vh"),void 0===t.options.window_max_height&&(t.options.window_max_height="100vh"),void 0===t.options.window_width&&(t.options.window_width="100vw"),void 0===t.options.window_min_width&&(t.options.window_min_width="100vw"),void 0===t.options.window_max_width&&(t.options.window_max_width="100vw"),void 0===t.options.disable_transformations&&(t.options.disable_transformations=!0),void 0===t.options.disable_content_padding&&(t.options.disable_content_padding=!0),void 0===t.options.full_content&&(t.options.full_content=!0),void 0===t.options.window_x&&(t.options.window_x="none"))),void 0===t.options.id&&(t.options.id=Msg.num_created+1),void 0===t.options.class&&(t.options.class="default"),void 0===t.options.lock&&(t.options.lock=!0),void 0===t.options.closeable&&(t.options.closeable=!0),void 0===t.options.enable_overlay&&(t.options.enable_overlay=!0),void 0===t.options.close_on_overlay_click&&(t.options.close_on_overlay_click=!0),void 0===t.options.enable_titlebar&&(t.options.enable_titlebar=!1),void 0===t.options.center_titlebar&&(t.options.center_titlebar=!1),void 0===t.options.window_x&&(t.options.enable_titlebar?t.options.window_x="inner_right":t.options.window_x="floating_right"),void 0===t.options.overlay_x&&(t.options.overlay_x="none"),void 0===t.options.close_on_escape&&(t.options.close_on_escape=!0),void 0===t.options.clear_editables&&(t.options.clear_editables=!1),void 0===t.options.before_show&&(t.options.before_show=()=>{}),void 0===t.options.after_show&&(t.options.after_show=()=>{}),void 0===t.options.before_set&&(t.options.before_set=()=>{}),void 0===t.options.after_set&&(t.options.after_set=()=>{}),void 0===t.options.before_set_title&&(t.options.before_set_title=()=>{}),void 0===t.options.after_set_title&&(t.options.after_set_title=()=>{}),void 0===t.options.before_set_progress&&(t.options.before_set_progress=()=>{}),void 0===t.options.after_set_progress&&(t.options.after_set_progress=()=>{}),void 0===t.options.before_close&&(t.options.before_close=()=>{}),void 0===t.options.after_close&&(t.options.after_close=()=>{}),void 0===t.options.after_last_closed&&(t.options.after_last_closed=()=>{}),void 0===t.options.before_toggle&&(t.options.before_toggle=()=>{}),void 0===t.options.after_toggle&&(t.options.after_toggle=()=>{}),void 0===t.options.before_create&&(t.options.before_create=()=>{}),void 0===t.options.after_create&&(t.options.after_create=()=>{}),void 0===t.options.before_destroy&&(t.options.before_destroy=()=>{}),void 0===t.options.after_destroy&&(t.options.after_destroy=()=>{}),void 0===t.options.on_click&&(t.options.on_click=()=>{}),void 0===t.options.on_middle_click&&(t.options.on_middle_click=()=>{}),void 0===t.options.on_wheel_down&&(t.options.on_wheel_down=()=>{}),void 0===t.options.on_wheel_up&&(t.options.on_wheel_up=()=>{}),void 0===t.options.on_overlay_click&&(t.options.on_overlay_click=()=>{}),void 0===t.options.on_titlebar_click&&(t.options.on_titlebar_click=()=>{}),void 0===t.options.on_x_button_click&&(t.options.on_x_button_click=()=>{}),void 0===t.options.autoclose&&(t.options.autoclose=!1),void 0===t.options.autoclose_delay?t.options.autoclose_delay=5e3:t.options.autoclose_delay=parseInt(t.options.autoclose_delay),void 0===t.options.persistent&&(t.options.persistent=!0),void 0===t.options.remove_after_close&&(t.options.remove_after_close=!1),void 0===t.options.position&&(t.options.position="center"),void 0===t.options.enable_progressbar&&(t.options.enable_progressbar=!1),void 0===t.options.bind_progressbar_to_autoclose&&(t.options.bind_progressbar_to_autoclose=!0),void 0===t.options.reverse_autoclose_progressbar&&(t.options.reverse_autoclose_progressbar=!1),void 0===t.options.edge_padding_x?t.options.edge_padding_x=20:t.options.edge_padding_x=parseInt(t.options.edge_padding_x),void 0===t.options.edge_padding_y?t.options.edge_padding_y=20:t.options.edge_padding_y=parseInt(t.options.edge_padding_y),void 0===t.options.sideStack_padding&&(t.options.sideStack_padding=20),void 0===t.options.sideStack_padding?t.options.sideStack_padding=20:t.options.sideStack_padding=parseInt(t.options.sideStack_padding),void 0===t.options.sideStack&&(t.options.sideStack="vertical"),void 0===t.options.sideStack_collapse&&(t.options.sideStack_collapse=!0),void 0===t.options.zStack_level?t.options.zStack_level=2:t.options.zStack_level=parseInt(t.options.zStack_level),void 0===t.options.window_width&&(t.options.window_width="auto"),void 0===t.options.window_height&&(t.options.window_height="auto"),void 0===t.options.window_min_width&&(t.options.window_min_width="auto"),void 0===t.options.window_min_height&&(t.options.window_min_height="auto"),void 0===t.options.window_max_width&&(t.options.window_max_width="80vw"),void 0===t.options.window_max_height&&(t.options.window_max_height="80vh"),void 0===t.options.window_cursor&&(t.options.window_cursor="default"),void 0===t.options.titlebar_cursor&&(t.options.titlebar_cursor="default"),void 0===t.options.window_unselectable&&(t.options.window_unselectable=!1),void 0===t.options.replace_linebreaks&&(t.options.replace_linebreaks=!1),void 0===t.options.close_others_on_show&&(t.options.close_others_on_show=!1),void 0===t.options.scroll_on_show&&(t.options.scroll_on_show=!0),void 0===t.options.locked_element&&(t.options.locked_element="body"),void 0===t.options.disable_transformations&&(t.options.disable_transformations=!1),void 0===t.options.disable_content_padding&&(t.options.disable_content_padding=!1),void 0===t.options.full_content&&(t.options.full_content=!1)},t.check_options(),t.created=()=>void 0!==t.container,t.close=()=>{t.is_open()&&t.options.closeable&&!1!==t.options.before_close(t)&&(t.container.style.display="none",void 0!==t.overlay&&(t.overlay.style.zIndex=-1e3),t.collapse_vStack(),t.collapse_hStack(),t.window.style.zIndex=-1e3,t.clear_autoclose_progressbar_interval(),t.check_remove_overflow_hidden(),t.options.persistent||t.destroy(),t.options.after_close(t),0===t.num_open()&&t.options.after_last_closed(t),t.options.remove_after_close&&t.remove())},t.set=o=>{void 0!==o&&(t.create(),!1!==t.options.before_set(t)&&("object"==typeof o?o instanceof Element&&(t.content.innerHTML="",t.content.appendChild(o)):(o=o.toString(),t.options.replace_linebreaks&&(o=o.replace(/(\n)/g,"<br>")),t.content.innerHTML=o),t.fix_stacks(),t.options.after_set(t)))},t.set_title=o=>{void 0!==o&&(t.create(),void 0!==t.titlebar&&!1!==t.options.before_set_title(t)&&("object"==typeof o?o instanceof Element&&(t.titlebar.innerHTML="",t.titlebar.appendChild(o)):(o=o.toString(),t.options.replace_linebreaks&&(o=o.replace(/(\n)/g,"<br>")),t.titlebar.innerHTML=o),t.fix_stacks(),t.options.after_set_title(t)))},t.hide_titlebar=()=>{t.topbar&&(t.topbar.style.display="none")},t.show_titlebar=()=>{t.topbar&&(t.topbar.style.display="flex")},t.set_or_show=o=>{t.is_highest()?t.set(o):t.show(o)},t.show=o=>{if(t.options.close_on_show&&t.is_open())return t.close(),void t.show(o);let e,s;"object"!=typeof o||o instanceof Element?s=o:(e=o[0],s=o[1]),t.create(),!1!==t.options.before_show(t)&&(void 0!==s&&t.set(s),void 0!==e&&t.set_title(e),t.reset_timers(),t.is_open()||(t.options.close_others_on_show&&t.close_all(),t.container.style.display="block",t.check_add_overflow_hidden(),t.set_default_positions(),t.reset_props(),"vertical"===t.options.sideStack?t.check_vStack():"horizontal"===t.options.sideStack&&t.check_hStack()),t.to_top(),t.options.scroll_on_show&&(t.content_container.scrollTop=0),t.options.autoclose&&(t.autoclose_timer(),t.options.enable_progressbar&&t.options.bind_progressbar_to_autoclose&&t.animate_autoclose_progressbar()),t.options.after_show(t))},t.toggle=()=>{t.create(),!1!==t.options.before_toggle(t)&&(t.is_open()?t.close():t.show(),t.options.after_toggle(t))},t.create=()=>{if(t.created())return;if(null!==Msg.el(`#Msg-container-${t.options.id}`))throw"Msg Error: The html elements for this id have already been created. Use a different id.";if(!1===t.options.before_create(t))return;let o={container:"\n\t\tdisplay: none;\n\t\t",overlay:"\n\t\tposition: fixed;\n\t\topacity: 1;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tz-index: -1000;\n    user-select: none;\n\t\t"};o.overlay_x=`\n\t\tcursor: pointer;\n\t\tfloat: ${t.options.overlay_x};\n\t\tfont-size: 28px;\n\t\tfont-family: sans-serif;\n\t\t-webkit-touch-callout: none;\n\t\t-webkit-user-select: none;\n\t\t-khtml-user-select: none;\n\t\t-moz-user-select: none;\n\t\t-ms-user-select: none;\n\t\tuser-select: none;\n\t\tpadding-left: 0.6em;\n\t\tpadding-right: 0.6em;\n\t\tpadding-top: 0.035em;\n\t\tpadding-bottom: 0.2em;\n\t\t`;let e,s,i,n,r=t.options.position,a=t.options.edge_padding_x,l=t.options.edge_padding_y;t.options.disable_transformations?(e="left: 0;",s="top: 0;",i="transform: initial;",t.vStackable=!1,t.hStackable=!1):"top"===r?(e="left: 50%;",s=`top: ${l}px;`,i="transform: translateX(-50%);",t.vStackable=!0,t.hStackable=!1):"bottom"===r?(e="left: 50%;",s=`bottom: ${l}px;`,i="transform: translateX(-50%);",t.vStackable=!0,t.hStackable=!1):"left"===r?(e=`left: ${a}px;`,s="top: 50%;",i="transform: translateY(-50%);",t.vStackable=!1,t.hStackable=!0):"right"===r?(e=`right: ${a}px;`,s="top: 50%;",i="transform: translateY(-50%);",t.vStackable=!1,t.hStackable=!0):"topleft"===r?(e=`left: ${a}px;`,s=`top: ${l}px;`,i="",t.vStackable=!0,t.hStackable=!0):"topright"===r?(e=`right: ${a}px;`,s=`top: ${l}px;`,i="",t.vStackable=!0,t.hStackable=!0):"bottomleft"===r?(e=`left: ${a}px;`,s=`bottom: ${l}px;`,i="",t.vStackable=!0,t.hStackable=!0):"bottomright"===r?(e=`right: ${a}px;`,s=`bottom: ${l}px;`,i="",t.vStackable=!0,t.hStackable=!0):(e="left: 50%;",s="top: 50%;",i="transform: translate(-50%, -50%);",t.vStackable=!1,t.hStackable=!1),n=t.options.window_unselectable?"user-select: none;":"",o.window=`\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\topacity: 1;\n\t\t${e}\n\t\t${s}\n\t\tposition: fixed;\n\t\twidth: ${t.options.window_width};\n\t\theight: ${t.options.window_height};\n\t\tmin-width: ${t.options.window_min_width};\n\t\tmin-height: ${t.options.window_min_height};\n\t\tmax-width: ${t.options.window_max_width};\n\t\tmax-height: ${t.options.window_max_height};\n\t\t${i}\n\t\toutline: 0;\n\t\t${n}\n\t\tcursor: ${t.options.window_cursor};\n\t\tz-index: -1000;\n\t\t`,o.topbar="\n\t\toverflow: hidden;\n\t\tflex-shrink: 0;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\t";let p,_,d,c,g="padding-left: 0.4em;",w="padding-right: 0.4em;",h="";t.options.center_titlebar&&(h="justify-content: center"),t.options.center_titlebar&&"inner_right"===t.options.window_x&&(g="padding-left: 50.78px;",w="padding-right: 10.78px;"),t.options.center_titlebar&&"inner_left"===t.options.window_x&&(g="padding-left: 10.78px;",w="padding-right: 50.78px;"),o.titlebar=`\n    display: flex;\n    align-items: center;\n    ${h};\n\t\toverflow: hidden;\n\t\torder: 2;\n\t\tflex-grow: 1;\n\t\t${g}\n\t\t${w}\n\t\tmin-height: 27px;\n\t\tfont-size: 16px;\n\t\tfont-family: sans-serif;\n    font-weight: bold;\n    white-space: nowrap;\n    cursor:${t.options.titlebar_cursor};\n\t\t`,t.options.window_x.includes("left")?(p="1",_=""):(p="3",_="auto"),o.window_inner_x=`\n\t\tcursor: pointer;\n\t\tmargin-left: ${_};\n\t\tfont-size: 24px;\n\t\tfont-family: sans-serif;\n\t\t-webkit-touch-callout: none;\n\t\t-webkit-user-select: none;\n\t\t-khtml-user-select: none;\n\t\t-moz-user-select: none;\n\t\t-ms-user-select: none;\n\t\tuser-select: none;\n\t\toverflow: hidden;\n\t\torder: ${p};\n\t\tpadding-left: 0.6em;\n\t\tpadding-right: 0.6em;\n\t\tpadding-top: 0.035em;\n\t\tpadding-bottom: 0.2em;\n\t\t`,t.options.window_x.includes("left")?(d="left: 0px;",c="margin-left: -10px;"):(d="right: 0px;",c="margin-right: -10px;"),o.window_floating_x=`\n\t\tcursor: pointer;\n\t\tposition: absolute;\n\t\ttop: 0px;\n\t\t${d}\n\t\tmargin-top: -10px;\n\t\t${c}\n\t\tfont-size: 16px;\n\t\tfont-family: sans-serif;\n\t\theight: 22px;\n\t\twidth: 22px;\n\t\t-webkit-touch-callout: none;\n\t\t-webkit-user-select: none;\n\t\t-khtml-user-select: none;\n\t\t-moz-user-select: none;\n\t\t-ms-user-select: none;\n\t\tuser-select: none;\n\t\toverflow: hidden;\n\t\tz-index: 9999999999999999;\n    display: block;\n    box-sizing: border-box;\n    border-width: 3px;\n    border-style: solid;\n    border-color: #2B2D30;\n    border-radius: 100%;\n    background: linear-gradient(-45deg, transparent 0%, transparent 46%, white 46%,  white 56%,transparent 56%, transparent 100%), linear-gradient(45deg, transparent 0%, transparent 46%, white 46%,  white 56%,transparent 56%, transparent 100%);\n    background-color: #2B2D30;\n    box-shadow: 0px 0px 5px 2px rgba(0,0,0,0.5);\n    transition: all 0.3s ease;\n\t\t`;let v,b,f,k="auto";"window"===t.options.preset&&(k="hidden"),o.content_container=`\n\t\toverflow-y: ${k};\n\t\toverflow-x: hidden;\n\t\tborder: none;\n\t\toutline: 0;\n\t\tmargin: 0;\n\t\tflex-grow: 1;\n\t\t`,v=t.options.disable_content_padding?"padding: 0;":"padding: 1.2rem;",t.options.full_content?(b="width: 100%;",f="height: 100%;"):(b="",f=""),o.content=`\n\t\tfont-size: 16px;\n\t\ttext-align: center;\n\t\toverflow-wrap: break-word;\n    ${v}\n\t\t${b}\n\t\t${f}\n\t\t`,o.progressbar_container="\n\t\theight: 11px;\n\t\twidth: 100%;\n\t\t",o.progressbar="\n\t\theight: 100%;\n\t\twidth: 0%;\n\t\t";let u=void 0!==t.options.container_class?t.options.container_class:t.options.class,m=void 0!==t.options.overlay_class?t.options.overlay_class:t.options.class,x=void 0!==t.options.overlay_x_class?t.options.overlay_x_class:t.options.class,y=void 0!==t.options.window_class?t.options.window_class:t.options.class,M=void 0!==t.options.topbar_class?t.options.topbar_class:t.options.class,$=void 0!==t.options.titlebar_class?t.options.titlebar_class:t.options.class,S=void 0!==t.options.window_inner_x_class?t.options.window_inner_x_class:t.options.class,z=void 0!==t.options.window_floating_x_class?t.options.window_floating_x_class:t.options.class,I=void 0!==t.options.content_container_class?t.options.content_container_class:t.options.class,W=void 0!==t.options.content_class?t.options.content_class:t.options.class,j=void 0!==t.options.progressbar_container_class?t.options.progressbar_container_class:t.options.class,H=void 0!==t.options.progressbar_class?t.options.progressbar_class:t.options.class;u=u.split(/\s+/).map((o=>o.startsWith("!")?o.substring(1):`Msg-container-${o}`)).join(" "),m=m.split(/\s+/).map((o=>o.startsWith("!")?o.substring(1):`Msg-overlay-${o}`)).join(" "),x=x.split(/\s+/).map((o=>o.startsWith("!")?o.substring(1):`Msg-overlay-x-${o}`)).join(" "),y=y.split(/\s+/).map((o=>o.startsWith("!")?o.substring(1):`Msg-window-${o}`)).join(" "),M=M.split(/\s+/).map((o=>o.startsWith("!")?o.substring(1):`Msg-topbar-${o}`)).join(" "),$=$.split(/\s+/).map((o=>o.startsWith("!")?o.substring(1):`Msg-titlebar-${o}`)).join(" "),S=S.split(/\s+/).map((o=>o.startsWith("!")?o.substring(1):`Msg-window-inner-x-${o}`)).join(" "),z=z.split(/\s+/).map((o=>o.startsWith("!")?o.substring(1):`Msg-window-floating-x-${o}`)).join(" "),I=I.split(/\s+/).map((o=>o.startsWith("!")?o.substring(1):`Msg-content-container-${o}`)).join(" "),W=W.split(/\s+/).map((o=>o.startsWith("!")?o.substring(1):`Msg-content-${o}`)).join(" "),j=j.split(/\s+/).map((o=>o.startsWith("!")?o.substring(1):`Msg-progressbar-container-${o}`)).join(" "),H=H.split(/\s+/).map((o=>o.startsWith("!")?o.substring(1):`Msg-progressbar-${o}`)).join(" ");let L=`<div class="Msg-container ${u}" style="${o.container}" id="Msg-container-${t.options.id}"></div>`,T=`<div class="Msg-overlay ${m}" style="${o.overlay}" id="Msg-overlay-${t.options.id}"></div>`,E=`<div class="Msg-overlay-x ${x}" style="${o.overlay_x}" id="Msg-overlay-x-${t.options.id}">x</div>`,C=`<div class="Msg-window ${y}" style="${o.window}" id="Msg-window-${t.options.id}"></div>`,q=`<div class="Msg-topbar ${M}" style="${o.topbar}" id="Msg-topbar-${t.options.id}"></div>`,A=`<div class="Msg-titlebar ${$}" style="${o.titlebar}" id="Msg-titlebar-${t.options.id}"></div>`,D=`<div class="Msg-window-inner-x ${S}" style="${o.window_inner_x}" id="Msg-window-inner-x-${t.options.id}">x</div>`,P=`<div class="Msg-window-floating-x ${z}" style="${o.window_floating_x}" id="Msg-window-floating-x-${t.options.id}"></div>`,Y=`<div class="Msg-content-container ${I}" style="${o.content_container}" id="Msg-content-container-${t.options.id}"></div>`,B=`<div class="Msg-content ${W}" style="${o.content}" id="Msg-content-${t.options.id}"></div>`,N=`<div class="Msg-progressbar-container ${j}" style="${o.progressbar_container}" id="Msg-progressbar-container-${t.options.id}"></div>`,X=`<div class="Msg-progressbar ${H}" style="${o.progressbar}" id="Msg-progressbar-${t.options.id}"></div>`;Msg.insert(document.body,L),t.container=Msg.el(`#Msg-container-${t.options.id}`),t.options.enable_overlay&&(Msg.insert(t.container,T),t.overlay=Msg.el(`#Msg-overlay-${t.options.id}`),"none"!==t.options.overlay_x&&(Msg.insert(t.overlay,E),t.overlay_x=Msg.el(`#Msg-overlay-x-${t.options.id}`))),Msg.insert(t.container,C),t.window=Msg.el(`#Msg-window-${t.options.id}`),(t.options.enable_titlebar||t.options.window_x.includes("inner"))&&(Msg.insert(t.window,q),t.topbar=Msg.el(`#Msg-topbar-${t.options.id}`),t.options.enable_titlebar&&(Msg.insert(t.topbar,A),t.titlebar=Msg.el(`#Msg-titlebar-${t.options.id}`)),t.options.window_x.includes("inner")&&(Msg.insert(t.topbar,D),t.window_inner_x=Msg.el(`#Msg-window-inner-x-${t.options.id}`))),t.options.window_x.includes("floating")&&(Msg.insert(t.window,P,"afterbegin"),t.window_floating_x=Msg.el(`#Msg-window-floating-x-${t.options.id}`)),Msg.insert(t.window,Y),t.content_container=Msg.el(`#Msg-content-container-${t.options.id}`),Msg.insert(t.content_container,B),t.content=Msg.el(`#Msg-content-${t.options.id}`),t.options.enable_progressbar&&(Msg.insert(t.window,N),t.progressbar_container=Msg.el(`#Msg-progressbar-container-${t.options.id}`),Msg.insert(t.progressbar_container,X),t.progressbar=Msg.el(`#Msg-progressbar-${t.options.id}`)),void 0!==t.overlay&&Msg.ev(t.overlay,"click",(()=>{t.options.close_on_overlay_click&&(t.options.on_overlay_click(t),t.close())})),void 0!==t.titlebar&&Msg.ev(t.titlebar,"click",(()=>{t.options.close_on_titlebar_click&&(t.options.on_titlebar_click(t),t.close())})),Msg.ev(t.window,"click",(o=>{t.options.on_click(t)})),Msg.ev(t.window,"wheel",(o=>{let e=o.deltaY>0?"down":"up";"down"===e?t.options.on_wheel_down(t):"up"===e&&t.options.on_wheel_up(t)})),Msg.ev(t.window,"auxclick",(o=>{2===o.which&&t.options.on_middle_click(t)})),void 0!==t.window_inner_x&&Msg.ev(t.window_inner_x,"click",(o=>{t.options.on_x_button_click(t),t.close(),o.stopPropagation()})),void 0!==t.window_floating_x&&Msg.ev(t.window_floating_x,"click",(o=>{t.options.on_x_button_click(t),t.close(),o.stopPropagation()})),void 0!==t.overlay_x&&Msg.ev(t.overlay_x,"click",(o=>{t.options.on_x_button_click(t),t.close(),o.stopPropagation()})),t.options.after_create(t)},t.recreate=()=>{t.destroy(),t.create()},t.destroy=()=>{if(t.created()){if(!1===t.options.before_destroy(t))return;t.check_remove_overflow_hidden(),t.container.parentNode.removeChild(t.container),t.container=void 0,t.overlay=void 0,t.overlay_x=void 0,t.window=void 0,t.topbar=void 0,t.titlebar=void 0,t.window_inner_x=void 0,t.window_floating_x=void 0,t.content_container=void 0,t.content=void 0,t.progressbar_container=void 0,t.progressbar=void 0,t.options.after_destroy(t)}},t.is_open=()=>!(!t.created()||"none"===t.container.style.display),t.any_open=()=>{for(let o of Msg.instances)if(o.is_open())return!0;return!1},t.any_higher_open=()=>{for(let o of Msg.instances)if(2===o.options.zStack_level&&o.is_open())return!0;return!1},t.any_lower_open=()=>{for(let o of Msg.instances)if(1===o.options.zStack_level&&o.is_open())return!0;return!1},t.num_open=()=>{let o=0;for(let t of Msg.instances)t.is_open()&&(o+=1);return o},t.num_open_higher=()=>{let o=0;for(let t of Msg.instances)t.is_open()&&2===t.options.zStack_level&&(o+=1);return o},t.num_open_lower=()=>{let o=0;for(let t of Msg.instances)t.is_open()&&1===t.options.zStack_level&&(o+=1);return o},t.show_all=()=>{for(let o=0;o<Msg.instances.length;o++)Msg.instances[o].show()},t.close_all=()=>{if(!t.any_open())return!1;for(let o=0;o<Msg.instances.length;o++)Msg.instances[o].close()},t.close_all_higher=()=>{if(!t.any_higher_open())return!1;for(let o of t.higher_instances())o.close()},t.close_all_lower=()=>{if(!t.any_lower_open())return!1;for(let o of t.lower_instances())o.close()},t.create_all=()=>{for(let o=0;o<Msg.instances.length;o++)Msg.instances[o].create()},t.recreate_all=()=>{for(let o=0;o<Msg.instances.length;o++)Msg.instances[o].recreate()},t.destroy_all=()=>{for(let o=0;o<Msg.instances.length;o++)Msg.instances[o].destroy()},t.common_zIndex=o=>{let t;return t=(o=parseInt(o))>0?parseInt(o.toString().substring(1)):-2e3,t},t.highest_zIndex=()=>{let o=-2e3,t=Msg.els(".Msg-window");for(let e=0;e<t.length;e++){let s=parseInt(t[e].style.zIndex);s>o&&(o=s)}return parseInt(o)},t.highest_instance=()=>{let o=t.highest_zIndex();if(o<0)return!1;for(let t of Msg.instances)if(void 0!==t.window&&parseInt(t.window.style.zIndex)===o)return t;return!1},t.highest_common_zIndex=()=>{let o=-2e3,e=Msg.els(".Msg-window");for(let s=0;s<e.length;s++){let i=t.common_zIndex(e[s].style.zIndex);i>o&&(o=i)}return o},t.is_highest=()=>{if(t.is_open()){let o=t.highest_zIndex();if(parseInt(t.window.style.zIndex)===o)return!0}return!1},t.html=()=>t.created()?t.content.innerHTML:"",t.title_html=()=>void 0!==t.titlebar?t.titlebar.innerHTML:"",t.check_add_overflow_hidden=()=>{t.options.lock&&document.querySelector(t.options.locked_element).classList.add("Msg-overflow-hidden")},t.check_remove_overflow_hidden=()=>{for(let o of Msg.instances)if(o.is_open()&&o.options.lock)return;document.querySelector(t.options.locked_element).classList.remove("Msg-overflow-hidden")},t.to_top=()=>{if(t.is_open()){let o,e=parseInt(t.window.style.zIndex),s=t.highest_common_zIndex();o=1===t.options.zStack_level?Math.max(5e6,5e6+s):Math.max(5e7,5e7+s),o>e&&(void 0!==t.overlay&&(t.overlay.style.zIndex=o+1),t.window.style.zIndex=o+2)}},t.instances=()=>Msg.instances,t.higher_instances=()=>{let o=[];for(let t of Msg.instances)2===t.options.zStack_level&&o.push(t);return o},t.lower_instances=()=>{let o=[];for(let t of Msg.instances)1===t.options.zStack_level&&o.push(t);return o},t.get_instance_by_id=o=>{for(let t of Msg.instances)if(t.options.id==o)return t},t.autoclose_timer=()=>{t.autoclose_timeout=setTimeout((()=>{t.close()}),t.options.autoclose_delay)},t.reset_timers=()=>{clearTimeout(t.autoclose_timeout)},t.clear_autoclose_progressbar_interval=()=>{clearInterval(t.progressbar_animation)},t.animate_autoclose_progressbar=()=>{if(t.clear_autoclose_progressbar_interval(),t.options.reverse_autoclose_progressbar){let o=0;t.progressbar.style.width="0%",t.progressbar_animation=setInterval((()=>{t.created()||clearInterval(t.progressbar_animation),o+=1,t.set_progress(o),o>=100&&clearInterval(t.progressbar_animation)}),t.options.autoclose_delay/100)}else{let o=100;t.progressbar.style.width="100%",t.progressbar_animation=setInterval((()=>{t.created()||clearInterval(t.progressbar_animation),o-=1,t.set_progress(o),o<=0&&clearInterval(t.progressbar_animation)}),t.options.autoclose_delay/100)}},t.set_progress=o=>{void 0!==o&&(t.create(),void 0!==t.progressbar&&!1!==t.options.before_set_progress(t)&&(o>100&&(o=100),o<0&&(o=0),t.progressbar.style.width=`${o}%`,t.options.after_set_progress(t)))},t.get_progress=()=>{if(void 0!==t.progressbar)return Math.round(t.progressbar.offsetWidth/t.window.offsetWidth*100)},t.reset_props=()=>{void 0!==t.overlay&&(t.overlay.style.opacity=1),t.window.style.opacity=1,t.window.style.zoom=1},t.stack_pos_top_sort=(o,t)=>o.stack_pos_top-t.stack_pos_top,t.stack_pos_top_sort2=(o,t)=>t.stack_pos_top-o.stack_pos_top,t.stack_pos_bottom_sort=(o,t)=>o.stack_pos_bottom-t.stack_pos_bottom,t.stack_pos_bottom_sort2=(o,t)=>t.stack_pos_bottom-o.stack_pos_bottom,t.stack_pos_left_sort=(o,t)=>o.stack_pos_left-t.stack_pos_left,t.stack_pos_left_sort2=(o,t)=>t.stack_pos_left-o.stack_pos_left,t.stack_pos_right_sort=(o,t)=>o.stack_pos_right-t.stack_pos_right,t.stack_pos_right_sort2=(o,t)=>t.stack_pos_right-o.stack_pos_right,t.highest_in_position=o=>{let e,s=-2e3,i=t.options.position;for(let t of Msg.instances)if(t.is_open()&&t.options.position===i){let n;"vertical"===o?i.includes("top")?n=t.stack_pos_top:i.includes("bottom")&&(n=t.stack_pos_bottom):"horizontal"===o&&(i.includes("left")?n=t.stack_pos_left:i.includes("right")&&(n=t.stack_pos_right)),void 0!==n&&n>s&&(s=n,e=t)}return e},t.lowest_in_position=o=>{let e,s=2e8,i=t.options.position;for(let t of Msg.instances)if(t.is_open()&&t.options.position===i){let n;"vertical"===o?i.includes("top")?n=t.stack_pos_top:i.includes("bottom")&&(n=t.stack_pos_bottom):"horizontal"===o&&(i.includes("left")?n=t.stack_pos_left:i.includes("right")&&(n=t.stack_pos_right)),void 0!==n&&n<s&&(s=n,e=t)}return e},t.above_in_position=(o,e)=>{let s=[],i=o.options.position;for(let t of Msg.instances)t.is_open()&&t.options.position===i&&("vertical"===e?i.includes("top")?t.stack_pos_top>o.stack_pos_top&&s.push(t):i.includes("bottom")&&t.stack_pos_bottom>o.stack_pos_bottom&&s.push(t):"horizontal"===e&&(i.includes("left")?t.stack_pos_left>o.stack_pos_left&&s.push(t):i.includes("right")&&t.stack_pos_right>o.stack_pos_right&&s.push(t)));return"vertical"===e?i.includes("top")?s.sort(t.stack_pos_top_sort):i.includes("bottom")&&s.sort(t.stack_pos_bottom_sort):"horizontal"===e&&(i.includes("left")?s.sort(t.stack_pos_left_sort):i.includes("right")&&s.sort(t.stack_pos_right_sort)),s},t.nextbelow_in_position=(o,e)=>{let s=[],i=o.options.position;for(let t of Msg.instances)if(t.is_open()){let n=t.options.position;if(n===i)if("vertical"===e){let e;if(n.includes("left")?e=t.stack_pos_left:n.includes("right")&&(e=t.stack_pos_right),void 0!==e&&(e>t.options.edge_padding_x+2||e<t.options.edge_padding_x-2))continue;i.includes("top")?t.stack_pos_top<o.stack_pos_top&&s.push(t):i.includes("bottom")&&t.stack_pos_bottom<o.stack_pos_bottom&&s.push(t)}else"horizontal"===e&&(i.includes("left")?t.stack_pos_left<o.stack_pos_left&&s.push(t):i.includes("right")&&t.stack_pos_right<o.stack_pos_right&&s.push(t))}return"vertical"===e?i.includes("top")?s.sort(t.stack_pos_top_sort2):i.includes("bottom")&&s.sort(t.stack_pos_bottom_sort2):"horizontal"===e&&(i.includes("left")?s.sort(t.stack_pos_left_sort2):i.includes("right")&&s.sort(t.stack_pos_right_sort2)),s[0]},t.check_vStack=()=>{if(t.vStackable){let o=t.options.position;o.includes("top")?t.stack_pos_top=-1e6:o.includes("bottom")&&(t.stack_pos_bottom=-1e6);let e,s,i=t.highest_in_position("vertical");void 0!==i&&i!==t?o.includes("top")?(e=i.stack_pos_top+i.stack_height+t.options.sideStack_padding,t.window.style.top=e+"px"):o.includes("bottom")&&(s=i.stack_pos_bottom+i.stack_height+t.options.sideStack_padding,t.window.style.bottom=s+"px"):o.includes("top")?(e=t.options.edge_padding_y,t.window.style.top=e+"px"):o.includes("bottom")&&(s=t.options.edge_padding_y,t.window.style.bottom=s+"px"),o.includes("top")?t.stack_pos_top=e:o.includes("bottom")&&(t.stack_pos_bottom=s)}},t.collapse_vStack=()=>{let o=t.options.position,e=t.above_in_position(t,"vertical");for(let s of e){if(!s.options.sideStack_collapse||"vertical"!==s.options.sideStack)continue;let e,i,n=t.nextbelow_in_position(s,"vertical");void 0!==n?o.includes("top")?(e=n.stack_pos_top+n.window.offsetHeight+s.options.sideStack_padding,s.window.style.top=e+"px"):o.includes("bottom")&&(i=n.stack_pos_bottom+n.window.offsetHeight+s.options.sideStack_padding,s.window.style.bottom=i+"px"):o.includes("top")?(e=s.options.edge_padding_y,s.window.style.top=e+"px"):o.includes("bottom")&&(i=s.options.edge_padding_y,s.window.style.bottom=i+"px"),o.includes("top")?s.stack_pos_top=e:o.includes("bottom")&&(s.stack_pos_bottom=i)}},t.fix_vStack=()=>{let o,e,s=t.options.position,i=t.lowest_in_position("vertical");if(void 0!==i){let n=t.above_in_position(i,"vertical");for(let t of n)s.includes("top")?(o=i.stack_pos_top+i.window.offsetHeight+t.options.sideStack_padding,t.window.style.top=o+"px",t.stack_pos_top=o):s.includes("bottom")&&(e=i.stack_pos_bottom+i.window.offsetHeight+t.options.sideStack_padding,t.window.style.bottom=e+"px",t.stack_pos_bottom=e),i=t}},t.check_hStack=()=>{if(t.hStackable){let o=t.options.position;o.includes("left")?t.stack_pos_left=-1e6:o.includes("right")&&(t.stack_pos_right=-1e6);let e,s,i=t.highest_in_position("horizontal");void 0!==i&&i!==t?o.includes("left")?(e=i.stack_pos_left+i.stack_width+t.options.sideStack_padding,t.window.style.left=e+"px"):o.includes("right")&&(s=i.stack_pos_right+i.stack_width+t.options.sideStack_padding,t.window.style.right=s+"px"):o.includes("left")?(e=t.options.edge_padding_x,t.window.style.left=e+"px"):o.includes("right")&&(s=t.options.edge_padding_x,t.window.style.right=s+"px"),o.includes("left")?t.stack_pos_left=e:o.includes("right")&&(t.stack_pos_right=s)}},t.collapse_hStack=()=>{let o=t.options.position,e=t.above_in_position(t,"horizontal");for(let s of e){if(!s.options.sideStack_collapse||"horizontal"!==s.options.sideStack)continue;let e,i,n=t.nextbelow_in_position(s,"horizontal");void 0!==n?o.includes("left")?(e=n.stack_pos_left+n.window.offsetWidth+s.options.sideStack_padding,s.window.style.left=e+"px"):o.includes("right")&&(i=n.stack_pos_right+n.window.offsetWidth+s.options.sideStack_padding,s.window.style.right=i+"px"):o.includes("left")?(e=s.options.edge_padding_x,s.window.style.left=e+"px"):o.includes("right")&&(i=s.options.edge_padding_x,s.window.style.right=i+"px"),o.includes("left")?s.stack_pos_left=e:o.includes("right")&&(s.stack_pos_right=i)}},t.fix_hStack=()=>{let o=t.options.position,e=t.lowest_in_position("horizontal");if(void 0!==e){let s,i,n=t.above_in_position(e,"horizontal");for(let t of n)o.includes("left")?(s=e.stack_pos_left+e.window.offsetWidth+t.options.sideStack_padding,t.window.style.left=s+"px",t.stack_pos_left=s):o.includes("right")&&(i=e.stack_pos_right+e.window.offsetWidth+t.options.sideStack_padding,t.window.style.right=i+"px",t.stack_pos_right=i),e=t}},t.fix_stacks=()=>{t.is_open()&&(t.fix_vStack(),t.fix_hStack())},t.set_default_positions=()=>{let o=t.options.position,e=t.options.edge_padding_x,s=t.options.edge_padding_y;"top"===o?(t.stack_pos_top=s,t.stack_pos_bottom=void 0,t.stack_pos_left=void 0,t.stack_pos_right=void 0):"bottom"===o?(t.stack_pos_top=void 0,t.stack_pos_bottom=s,t.stack_pos_left=void 0,t.stack_pos_right=void 0):"left"===o?(t.stack_pos_top=void 0,t.stack_pos_bottom=void 0,t.stack_pos_left=e,t.stack_pos_right=void 0):"right"===o?(t.stack_pos_top=void 0,t.stack_pos_bottom=void 0,t.stack_pos_left=void 0,t.stack_pos_right=e):"topleft"===o?(t.stack_pos_top=s,t.stack_pos_bottom=void 0,t.stack_pos_left=e,t.stack_pos_right=void 0):"topright"===o?(t.stack_pos_top=s,t.stack_pos_bottom=void 0,t.stack_pos_left=void 0,t.stack_pos_right=e):"bottomleft"===o?(t.stack_pos_top=void 0,t.stack_pos_bottom=s,t.stack_pos_left=e,t.stack_pos_right=void 0):"bottomright"===o?(t.stack_pos_top=void 0,t.stack_pos_bottom=s,t.stack_pos_left=void 0,t.stack_pos_right=e):(t.stack_pos_top=void 0,t.stack_pos_bottom=void 0,t.stack_pos_left=void 0,t.stack_pos_right=void 0),t.stack_width=t.window.offsetWidth,t.stack_height=t.window.offsetHeight},t.remove=()=>{t.destroy();for(let o=0;o<Msg.instances.length;o++)if(Msg.instances[o].options.id===t.options.id){Msg.instances.splice(o,1);break}},t.is_textbox=o=>{let t=o.tagName.toLowerCase();if("textarea"===t)return!0;if("input"!==t)return!1;let e=o.getAttribute("type");return!!e&&["text","password","number","email","tel","url","search","date","datetime","datetime-local","time","month","week"].includes(e.toLowerCase())},void 0===Msg.msg&&"__internal_instance__"!==t.options.id){Msg.msg=Msg.factory({id:"__internal_instance__"});let o=document.createElement("style"),t="\n\t\t.Msg-overflow-hidden{overflow: hidden}\n\n\t\t.Msg-overlay{background-color: rgba(0, 0, 0, 0.7)}\n\t\t.Msg-window{background-color: white;color: #222222}\n\t\t.Msg-titlebar{background-color: #c8c8c8;color: #222222}\n\t\t.Msg-progressbar{background-color: #c8c8c8}\n\t\t.Msg-window-inner-x:hover{background-color: #cacaca}\n\t\t.Msg-window-floating-x{background-color: #3a3a3a;color: white}\n\t\t.Msg-window-floating-x:hover{background-color: #2a2a2a}\n\t\t.Msg-overlay-x{color: white}\n\t\t.Msg-overlay-x:hover{background-color: #686868}\n\n\t\t.Msg-overlay-blue{background-color: rgba(101, 107, 124, 0.7)}\n\t\t.Msg-window-blue{background-color: #4f84b8;color: white}\n\t\t.Msg-titlebar-blue{background-color: #43729f;color: white}\n\t\t.Msg-progressbar-blue{background-color: #43729f}\n\t\t.Msg-window-inner-x-blue:hover{background-color: #476b8f}\n\t\t.Msg-overlay-x-blue{color: white}\n\t\t.Msg-overlay-x-blue:hover{background-color: #747484}\n\n\t\t.Msg-overlay-red{background-color: rgba(104, 64, 64, 0.7)}\n\t\t.Msg-window-red{background-color: #ca4e4e;color: white}\n\t\t.Msg-titlebar-red{background-color: #af3f3f;color: white}\n\t\t.Msg-progressbar-red{background-color: #af3f3f}\n\t\t.Msg-window-inner-x-red:hover{background-color: #9d4d4d}\n\t\t.Msg-overlay-x-red{color: white}\n\t\t.Msg-overlay-x-red:hover{background-color: #805e5e}\n\n\t\t.Msg-overlay-green{background-color: rgba(121, 159, 133, 0.7)}\n\t\t.Msg-window-green{background-color: #58a564;color: white}\n\t\t.Msg-titlebar-green{background-color: #52935c;color: white}\n\t\t.Msg-progressbar-green{background-color: #52935c}\n\t\t.Msg-window-inner-x-green:hover{background-color: #4e8456}\n\t\t.Msg-overlay-x-green{color: white}\n\t\t.Msg-overlay-x-green:hover{background-color: #7c957c}\n\n\t\t.Msg-overlay-black{background-color: rgba(121, 121, 121, 0.7)}\n\t\t.Msg-window-black{background-color: #1D1F21;color: white}\n\t\t.Msg-titlebar-black{background-color: #3c3c3c;color: white}\n\t\t.Msg-progressbar-black{background-color: #3c3c3c}\n\t\t.Msg-window-inner-x-black:hover{background-color: #424242}\n\t\t.Msg-overlay-x-black{color: white}\n\t\t.Msg-overlay-x-black:hover{background-color: #686868}\n\t\t";o.innerHTML=t,document.head.appendChild(o),Msg.ev(document,"keydown",(o=>{if(Msg.msg.highest_instance()&&"Escape"===o.key){let o=Msg.msg.highest_instance();if(!o)return;if(o.options.clear_editables){let t=document.activeElement;if(o.is_textbox(t)&&!t.readOnly&&!t.disabled&&""!==t.value.trim()){let o=t.value.trimEnd().split(" ").slice(0,-1).join(" ")+" ";""===o.trim()&&(o=""),t.value=o;let e=new Event("input",{bubbles:!0,cancelable:!0});return void t.dispatchEvent(e)}}o.options.close_on_escape&&o.close()}}))}return"__internal_instance__"!==t.options.id&&(Msg.instances.push(t),Msg.num_created+=1),t},instances:[]};try{module.exports=Msg}catch(o){}